{"componentChunkName":"component---src-templates-blog-post-js","path":"/cs/쿠키&세션&스토리지/","result":{"data":{"site":{"siteMetadata":{"title":"Study Log","author":"[HongDongUk]","siteUrl":"https://donguk.netlify.com","comment":{"disqusShortName":"","utterances":"doonguk/doonguk.github.io"},"sponsor":{"buyMeACoffeeId":"doonguk"}}},"markdownRemark":{"id":"2cc6c17d-da27-5a67-b889-8488caf2ae3e","excerpt":"쿠키와 세션 왜 쓸까? HTTP는 Connectionless( 클라이언트는 요청을 하고 응답을 받으면 서버와 연결을 끊음 ), Stateless( 모든 클라이언트의 요청은 독립적으로 처리)한 특징이 있기 때문에 서버는 클라이언트를 구분할 수 없다.  따라서 사용자 인증같은 것을 유지하기 위해 사용한다. 쿠키 만들어진 의도가  HTTP…","html":"<h2 id=\"쿠키와-세션-왜-쓸까\"><a href=\"#%EC%BF%A0%ED%82%A4%EC%99%80-%EC%84%B8%EC%85%98-%EC%99%9C-%EC%93%B8%EA%B9%8C\" aria-label=\"쿠키와 세션 왜 쓸까 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>쿠키와 세션 왜 쓸까?</h2>\n<p>HTTP는 Connectionless( 클라이언트는 요청을 하고 응답을 받으면 서버와 연결을 끊음 ), Stateless( 모든 클라이언트의 요청은 독립적으로 처리)한 특징이 있기 때문에 서버는 클라이언트를 구분할 수 없다.  따라서 사용자 인증같은 것을 유지하기 위해 사용한다.</p>\n<h2 id=\"쿠키\"><a href=\"#%EC%BF%A0%ED%82%A4\" aria-label=\"쿠키 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>쿠키</h2>\n<p><em>만들어진 의도가  HTTP기반의 웹 통신에서 서버는 클라이언트의 요청을 매번 독립적으로 처리하기 때문에 서버와 클라이언트가 지속적인 데이터교환을 하기위해서 만들어졌대. 그래서 쿠키가 있으면 매 요청마다 헤더에 실어서 보내는군.</em></p>\n<p>쿠키는 <strong>클라이언트(로컬)에 저장하는 key value의 작은 파일</strong>이다.  유효시간이 있고 브라우저가 종료되어도 삭제되지 않는다. 하지만 클라이언트가 수정할 수 있고 해커가 탈취할 수 있기 때문에 보안에 민감한 데이터를 저장하면 안된다. </p>\n<h3 id=\"생성방법\"><a href=\"#%EC%83%9D%EC%84%B1%EB%B0%A9%EB%B2%95\" aria-label=\"생성방법 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>생성방법</h3>\n<p>자바스크립트를 이용해서도 만들 수 있고, 서버에서 클라이언트에 요청에 대한 응답의 헤더에 <code class=\"language-text\">Set-Cookie</code> 속성을 사용하면 만들 수 있다.</p>\n<h3 id=\"특징\"><a href=\"#%ED%8A%B9%EC%A7%95\" aria-label=\"특징 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>특징</h3>\n<ul>\n<li>클라이언트 쪽에 저장된다.</li>\n<li>브라우저가 꺼져도 삭제되지 않는다. 사용자가 삭제하거나 유효기간이 끝나야 한다.</li>\n<li>문자열만 저장할 수 있다.</li>\n<li>사용자가 조작하거나 해커가 탈취할 수 있어서 보안에 취약하다</li>\n<li>쿠키 생성시에 <strong>HttpOnly</strong> 속성을 주면 자바스크립트에서 접근이 불가능하고, 오로지 HTTP 요청을 통해서만 전송된다. <strong>Secure</strong> 옵션을 주면 한층 더 강화하여 HTTPS 요청을 통해서만 전송된다.</li>\n</ul>\n<h3 id=\"용도\"><a href=\"#%EC%9A%A9%EB%8F%84\" aria-label=\"용도 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>용도</h3>\n<ul>\n<li>세션 ID : 서버에서 저장해야 할 민감한 정보에 대한 식별자 ID</li>\n<li>팝업창 (ex 오늘 하루 안보기), 아이디 비밀번호 자동완성 등</li>\n</ul>\n<h2 id=\"세션\"><a href=\"#%EC%84%B8%EC%85%98\" aria-label=\"세션 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>세션</h2>\n<p>세션이란 <strong>브라우저가 서버와 연결되어 있는 동안 유지되는 데이터 집합</strong>이다. </p>\n<h3 id=\"라이프-싸이클\"><a href=\"#%EB%9D%BC%EC%9D%B4%ED%94%84-%EC%8B%B8%EC%9D%B4%ED%81%B4\" aria-label=\"라이프 싸이클 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>라이프 싸이클</h3>\n<p>클라이언트가 서버에 요청을 보낸다 -> 서버는 클라이언트의 정보를 저장하고 그 정보를 식별할 수 있는 세션 ID를 응답의 <code class=\"language-text\">Set-Cookie</code> 속성에 넣어 보낸다. -> 클라이언트는 세션 ID를 쿠키로 저장한다. -> 다시 요청을 할 때마다 클라이언트는 요청의 <code class=\"language-text\">Cookie</code> 헤더에 세션ID를 포함시켜 전송한다 -> 서버는 이를 받아서 클라이언트에 맞게 요청을 처리할 수 있다.</p>\n<h3 id=\"특징-1\"><a href=\"#%ED%8A%B9%EC%A7%95-1\" aria-label=\"특징 1 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>특징</h3>\n<ul>\n<li>서버쪽에 저장한다. 따라서 많은 클라이언트의 정보가 서버에 세션으로 저장되면 서버의 메모리 부하가 일어날 수 있다.</li>\n<li>브라우저가 꺼질 경우 삭제된다.</li>\n<li>문자열 뿐만 아니라 객체도 저장 가능하다.</li>\n<li>서버에서 민감한 데이터를 갖고 있기 때문에 비교적 보안이 좋다.</li>\n</ul>\n<h3 id=\"용도-1\"><a href=\"#%EC%9A%A9%EB%8F%84-1\" aria-label=\"용도 1 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>용도</h3>\n<p>민감한 정보관리</p>\n<br/>\n<h2 id=\"쿠기--로컬-스토리지--세션-스토리지\"><a href=\"#%EC%BF%A0%EA%B8%B0--%EB%A1%9C%EC%BB%AC-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80--%EC%84%B8%EC%85%98-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80\" aria-label=\"쿠기  로컬 스토리지  세션 스토리지 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>쿠기 &#x26; 로컬 스토리지 &#x26; 세션 스토리지</h2>\n<p>3가지 모두 key / value 쌍을 저장할 수 있는 메커니즘으로 <strong>문자열</strong>만 저장 가능하다. 로컬 스토리지와 세션 스토리지는 HTML5에 추가되었고 <code class=\"language-text\">window</code> 객체 하위의 <code class=\"language-text\">localStorage</code>, <code class=\"language-text\">sessionStorage</code> 객체를 이용하여 설정 가능하다. ( Brower Object Model이 생각나는군.)</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>Cookie</th>\n<th>Local storage</th>\n<th>Session storage</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>생성자</td>\n<td>클라이언트/서버</td>\n<td>클라이언트</td>\n<td>클라이언트</td>\n</tr>\n<tr>\n<td>지속시간</td>\n<td>설정 여부에 따름</td>\n<td>명시적으로 지울때까지</td>\n<td>탭 / 윈도우 닫을 때까지</td>\n</tr>\n<tr>\n<td>용량</td>\n<td>5KB</td>\n<td>5MB / 10MB</td>\n<td>5MB</td>\n</tr>\n<tr>\n<td>서버와의 통신</td>\n<td>O</td>\n<td>X</td>\n<td>X</td>\n</tr>\n<tr>\n<td>취약점</td>\n<td>XSS / CSRF 공격</td>\n<td>XSS 공격</td>\n<td>XSS 공격</td>\n</tr>\n</tbody>\n</table>\n<p>쿠키는 <code class=\"language-text\">httponly</code>, <code class=\"language-text\">Secure</code> 옵션을 통해서 보안을 강화할 수 있지만, 사용자의 컴퓨터에 파일로 저장되기 때문에 사용자가 악성 이메일을 클릭하는 것 같은 행위로 특정 서버에 API요청을 보낼 수 있는 문제(CSRF)가 있다. (요청의 헤더에 자동으로 실어서 보내지기 때문에)</p>","frontmatter":{"title":"쿠키 & 세션 & 스토리지","date":"June 11, 2020"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/cs/쿠키&세션&스토리지/","previous":{"fields":{"slug":"/cs/rest-&-api/"},"frontmatter":{"title":"REST & API","category":"cs"}},"next":{"fields":{"slug":"/cs/dns-&-cdn/"},"frontmatter":{"title":"DNS & CDN","category":"cs"}}}}}